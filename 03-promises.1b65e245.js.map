{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAkB,CACtBC,MAAO,QACPC,SAAU,YACVC,cAAc,EACdC,SAAU,OACVC,QAAS,KAGX,IAAIC,EAAa,EACbC,EAAa,EACbC,EAAe,EAiCnB,SAASC,EAAcP,EAAUQ,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACFM,YAAW,KACTF,EAAQ,C,SAAEb,E,MAAUQ,GAAQ,GAC3BA,GAEHO,YAAW,KACTD,EAAO,C,SAAEd,E,MAAUQ,GAAQ,GAC1BA,EAAM,G,CAKf,SAASQ,GAAUhB,SAAEA,EAAQQ,MAAEA,IAC7BS,QAAQC,IAAI,uBAAqBlB,QAAiBQ,OAClDZ,EAAAuB,OAAOC,QACL,qBAAqBpB,QAAeQ,MACpCV,E,CAIJ,SAASuB,GAAQrB,SAAEA,EAAQQ,MAAEA,IAC3BS,QAAQC,IAAI,sBAAoBlB,QAAeQ,OAC/CZ,EAAAuB,OAAOG,QAAQ,oBAAoBtB,QAAeQ,MAAWV,E,CAzD/CyB,SAASC,cAAc,SAC/BC,iBAAiB,UAEzB,SAAsBC,GACpBA,EAAMC,iBACN,MACEC,UAAUpB,MAAEA,EAAKqB,KAAEA,EAAIC,OAAEA,IACvBJ,EAAMK,cAMV,GAJA3B,EAAa4B,OAAOC,SAASzB,EAAM0B,OACnC7B,EAAa2B,OAAOC,SAASJ,EAAKK,OAClC5B,EAAe0B,OAAOC,SAASH,EAAOI,OAElC9B,EAAa,GAAKC,EAAa,GAAKC,EAAe,EACrDV,EAAAuB,OAAOgB,QAAQ,sCAAuCrC,QAEtD,IAAK,IAAIsC,EAAI,EAAGA,EAAI9B,EAAc8B,GAAK,EAAG,CAIxC7B,EAFwB6B,EAAI,EADJhC,EAAagC,EAAI/B,GAItCgC,KAAKrB,GACLsB,MAAMjB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix/build/notiflix-notify-aio\";\nconst notiflixOptions = {\n  width: \"360px\",\n  position: \"right-top\",\n  clickToClose: true,\n  fontSize: \"16px\",\n  timeout: 5000,\n};\n\nlet firstDelay = 0;\nlet stepNumber = 0;\nlet amountNumber = 0;\n\nconst formRef = document.querySelector(\".form\");\nformRef.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const {\n    elements: { delay, step, amount },\n  } = event.currentTarget;\n\n  firstDelay = Number.parseInt(delay.value);\n  stepNumber = Number.parseInt(step.value);\n  amountNumber = Number.parseInt(amount.value);\n\n  if (firstDelay < 0 || stepNumber < 0 || amountNumber < 0) {\n    Notify.warning(\"Enter values, that are not negative\", notiflixOptions);\n  } else {\n    for (let i = 0; i < amountNumber; i += 1) {\n      const calculatedDelay = firstDelay + i * stepNumber;\n      const promisePosition = i + 1;\n\n      createPromise(promisePosition, calculatedDelay)\n        .then(onSucsess)\n        .catch(onError);\n    }\n  }\n  // event.currentTarget.reset();\n  // delay.value = 0;\n  // step.value = 0;\n  // amount.value = 0;\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      setTimeout(() => {\n        resolve({ position, delay });\n      }, delay);\n    } else {\n      setTimeout(() => {\n        reject({ position, delay });\n      }, delay);\n    }\n  });\n}\n\nfunction onSucsess({ position, delay }) {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  Notify.success(\n    `Fulfilled promise ${position} in ${delay}ms`,\n    notiflixOptions\n  );\n}\n\nfunction onError({ position, delay }) {\n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  Notify.failure(`Rejected promise ${position} in ${delay}ms`, notiflixOptions);\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$notiflixOptions","width","position","clickToClose","fontSize","timeout","$47d4ff9957288465$var$firstDelay","$47d4ff9957288465$var$stepNumber","$47d4ff9957288465$var$amountNumber","$47d4ff9957288465$var$createPromise","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$onSucsess","console","log","Notify","success","$47d4ff9957288465$var$onError","failure","document","querySelector","addEventListener","event","preventDefault","elements","step","amount","currentTarget","Number","parseInt","value","warning","i","then","catch"],"version":3,"file":"03-promises.1b65e245.js.map"}