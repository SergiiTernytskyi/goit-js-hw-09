{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAkB,CACtBC,MAAO,QACPC,SAAU,YACVC,cAAc,EACdC,SAAU,OACVC,QAAS,KA+BX,SAASC,EAAcJ,EAAUK,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACFM,YAAW,KACTF,EAAQ,C,SAAEV,E,MAAUK,GAAQ,GAC3BA,GAEHO,YAAW,KACTD,EAAO,C,SAAEX,E,MAAUK,GAAQ,GAC1BA,EAAM,G,CAKf,SAASQ,GAAUb,SAAEA,EAAQK,MAAEA,IAC7BS,QAAQC,IAAI,uBAAqBf,QAAiBK,OAClDT,EAAAoB,OAAOC,QACL,qBAAqBjB,QAAeK,MACpCP,E,CAIJ,SAASoB,GAAQlB,SAAEA,EAAQK,MAAEA,IAC3BS,QAAQC,IAAI,sBAAoBf,QAAeK,OAC/CT,EAAAoB,OAAOG,QAAQ,oBAAoBnB,QAAeK,MAAWP,E,CAtD/CsB,SAASC,cAAc,SAC/BC,iBAAiB,UAEzB,SAAsBC,GACpBA,EAAMC,iBACN,MACEC,UAAUpB,MAAEA,EAAKqB,KAAEA,EAAIC,OAAEA,IACvBJ,EAAMK,cAEVC,WAAaC,OAAOC,SAAS1B,EAAM2B,OACnCC,WAAaH,OAAOC,SAASL,EAAKM,OAClCE,aAAeJ,OAAOC,SAASJ,EAAOK,OAEtC,IAAK,IAAIG,EAAI,EAAGA,EAAID,aAAcC,GAAK,EAAG,CACxC,MAAMC,EAAkBP,WAAaM,EAAIF,WAGzC7B,EAFwB+B,EAAI,EAEGC,GAC5BC,KAAKxB,GACLyB,MAAMpB,E,CAGXK,EAAMK,cAAcW,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix/build/notiflix-notify-aio\";\nconst notiflixOptions = {\n  width: \"360px\",\n  position: \"right-top\",\n  clickToClose: true,\n  fontSize: \"16px\",\n  timeout: 5000,\n};\n\nconst formRef = document.querySelector(\".form\");\nformRef.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const {\n    elements: { delay, step, amount },\n  } = event.currentTarget;\n\n  firstDelay = Number.parseInt(delay.value);\n  stepNumber = Number.parseInt(step.value);\n  amountNumber = Number.parseInt(amount.value);\n\n  for (let i = 0; i < amountNumber; i += 1) {\n    const calculatedDelay = firstDelay + i * stepNumber;\n    const promisePosition = i + 1;\n\n    createPromise(promisePosition, calculatedDelay)\n      .then(onSucsess)\n      .catch(onError);\n  }\n\n  event.currentTarget.reset();\n  // delay.value = 0;\n  // step.value = 0;\n  // amount.value = 0;\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      setTimeout(() => {\n        resolve({ position, delay });\n      }, delay);\n    } else {\n      setTimeout(() => {\n        reject({ position, delay });\n      }, delay);\n    }\n  });\n}\n\nfunction onSucsess({ position, delay }) {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  Notify.success(\n    `Fulfilled promise ${position} in ${delay}ms`,\n    notiflixOptions\n  );\n}\n\nfunction onError({ position, delay }) {\n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  Notify.failure(`Rejected promise ${position} in ${delay}ms`, notiflixOptions);\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$notiflixOptions","width","position","clickToClose","fontSize","timeout","$47d4ff9957288465$var$createPromise","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$onSucsess","console","log","Notify","success","$47d4ff9957288465$var$onError","failure","document","querySelector","addEventListener","event","preventDefault","elements","step","amount","currentTarget","firstDelay","Number","parseInt","value","stepNumber","amountNumber","i","calculatedDelay","then","catch","reset"],"version":3,"file":"03-promises.edfc5c59.js.map"}