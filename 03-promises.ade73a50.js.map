{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACMC,EAAkB,CACtBC,MAAO,QACPC,SAAU,YACVC,cAAc,EACdC,SAAU,OACVC,QAAS,KA+BX,SAASC,EAAcJ,EAAUK,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACvBL,EACFM,YAAW,WACTF,EAAQ,CAAEV,WAAUK,S,GACnBA,GAEHO,YAAW,WACTD,EAAO,CAAEX,WAAUK,S,GAClBA,E,IAKT,SAASQ,EAAUC,G,IAAEd,EAAFc,EAAEd,SAAUK,EAAZS,EAAYT,MAC7BU,QAAQC,IAAI,uBAAwCC,OAAfjB,EAAS,QAAYiB,OAANZ,EAAM,OAC1DT,EAAAsB,OAAOC,QACL,qBAAoCF,OAAfjB,EAAS,QAAYiB,OAANZ,EAAM,MAC1CP,E,CAIJ,SAASsB,EAAQN,G,IAAEd,EAAFc,EAAEd,SAAUK,EAAZS,EAAYT,MAC3BU,QAAQC,IAAI,sBAAqCC,OAAfjB,EAAS,QAAYiB,OAANZ,EAAM,OACvDT,EAAAsB,OAAOG,QAAQ,oBAAmCJ,OAAfjB,EAAS,QAAYiB,OAANZ,EAAM,MAAKP,E,CAtD/CwB,SAASC,cAAc,SAC/BC,iBAAiB,UAEzB,SAAsBC,GACpBA,EAAMC,iBACN,IAEuBC,EAAnBF,EAAMG,cADRC,SAAYxB,EAAKsB,EAALtB,MAAOyB,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OAG3BC,WAAaC,OAAOC,SAAS7B,EAAM8B,OACnCC,WAAaH,OAAOC,SAASJ,EAAKK,OAClCE,aAAeJ,OAAOC,SAASH,EAAOI,OAEtC,IAAK,IAAIG,EAAI,EAAGA,EAAID,aAAcC,GAAK,EAAG,CACxC,IAAMC,EAAkBP,WAAaM,EAAIF,WAGzChC,EAFwBkC,EAAI,EAEGC,GAC5BC,KAAK3B,GACL4B,MAAMrB,E,CAGXK,EAAMG,cAAcc,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix/build/notiflix-notify-aio\";\nconst notiflixOptions = {\n  width: \"360px\",\n  position: \"right-top\",\n  clickToClose: true,\n  fontSize: \"16px\",\n  timeout: 5000,\n};\n\nconst formRef = document.querySelector(\".form\");\nformRef.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const {\n    elements: { delay, step, amount },\n  } = event.currentTarget;\n\n  firstDelay = Number.parseInt(delay.value);\n  stepNumber = Number.parseInt(step.value);\n  amountNumber = Number.parseInt(amount.value);\n\n  for (let i = 0; i < amountNumber; i += 1) {\n    const calculatedDelay = firstDelay + i * stepNumber;\n    const promisePosition = i + 1;\n\n    createPromise(promisePosition, calculatedDelay)\n      .then(onSucsess)\n      .catch(onError);\n  }\n\n  event.currentTarget.reset();\n  // delay.value = 0;\n  // step.value = 0;\n  // amount.value = 0;\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      setTimeout(() => {\n        resolve({ position, delay });\n      }, delay);\n    } else {\n      setTimeout(() => {\n        reject({ position, delay });\n      }, delay);\n    }\n  });\n}\n\nfunction onSucsess({ position, delay }) {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  Notify.success(\n    `Fulfilled promise ${position} in ${delay}ms`,\n    notiflixOptions\n  );\n}\n\nfunction onError({ position, delay }) {\n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  Notify.failure(`Rejected promise ${position} in ${delay}ms`, notiflixOptions);\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$notiflixOptions","width","position","clickToClose","fontSize","timeout","$ce04d3a99e08e73b$var$createPromise","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$ce04d3a99e08e73b$var$onSucsess","param","console","log","concat","Notify","success","$ce04d3a99e08e73b$var$onError","failure","document","querySelector","addEventListener","event","preventDefault","_elements","currentTarget","elements","step","amount","firstDelay","Number","parseInt","value","stepNumber","amountNumber","i","calculatedDelay","then","catch","reset"],"version":3,"file":"03-promises.ade73a50.js.map"}